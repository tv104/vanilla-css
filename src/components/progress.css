/* Stylelint does not recognize @property yet: https://github.com/csstools/stylelint-value-no-unknown-custom-properties/issues/50 */
@layer variables {
    :scope {
        --progress: 0%;
        --hue: 240deg;
    }
}

@property --progress {
    syntax: "<percentage>";
    inherits: false;
    initial-value: 0%;
}

@property --hue {
    syntax: "<angle>";
    inherits: false;
    initial-value: 0deg;
}

@layer components {  
    @scope (.progress) {
        background-color: var(--surface-muted);
        container-type: inline-size;
        
        .progress-bar {
            background: linear-gradient(90deg,
                oklch(70% 0.4 var(--hue)),
                oklch(70% 0.4 calc(var(--hue) + 40deg))
            );
            
            width: var(--progress);
            transition: --progress 0.3s ease, --hue 0.3s ease;

            height: 20px;
            @container (min-width: 600px) {
                height: 40px;
            }
        }
    }
}
